# 复合数据类型：引用和指针

## 引用
引用的本质其实就是const指针，可以直接把它当作变量别名来使用。

左值引用只能绑定到可修改的左值。

引用和被引用的对象具有独立的生命周期，当引用被销毁时，被引用的对象还在。当被引用的对象在引用之前被销毁时，引用将继续引用不再存在的对象。这样的引用称为悬空引用。访问悬空引用会导致未定义的行为。

通过在声明左值引用时使用const关键字，我们告诉左值引用将其引用的对象视为const。此处可理解为编译器禁止了左值引用的修改操作。而被引用对象如果不是const的，是可以进行修改的。

std::string_view和 const std::string作为函数参数的区别：当传入参数类型不一样时，const std::string会进行类型转换（显式转换或者隐式转换），这种代价是很高的，而string_view不会进行类型转换，而是进行简单的拷贝。所以尽量使用string_view来作为函数参数。

## 指针

指针和常量重述
总而言之，你只需要记住4条规则，它们非常符合逻辑：
可以为非常量指针分配另一个地址，以更改它所指向的对象。
指针常量始终指向相同的地址，并且不能更改该地址。
指向非常量的指针可以更改它所指向的值。它不能指向常量。
指向常量值的指针在通过指针访问时将该值视为常量，因此不能更改它所指向的值。指针常量可以指向非常量或常量左值（但不能指向右值，因为右值没有地址）。

记住以下的语法：
星号之前的const与所指向的类型相关联。因此，这是一个指向常量值的指针，不能通过指针修改该值。
星号后面的const与指针本身相关联。因此，不能为该指针分配新地址。

## 函数参数传递
按值传递、按引用传递、和按指针传递

除非有特殊场景，否则尽量使用引用

当你想在函数内修改一个指针指向的对象时，可以使用对指针的引用，或者多级指针
```cpp
void foo(int*& p) {
    p = nullptr;
}
```